import{d as E,z as R,P as O,Z}from"../chunks/PrimaryTextField.BGRG2kUX.js";import{g as W,c as G,t as J,R as K,P as j,a as Q,b as U,S as V}from"../chunks/RowToLeft.DeaIvoKE.js";import"../chunks/disclose-version.Bg9kRutz.js";import{a9 as X,a3 as Y,v,aa as ee,ab as B,a4 as y,a1 as x,a6 as _,a5 as C,t as ae,j as $,l as re}from"../chunks/runtime.CGf5uJ7Y.js";import{s as te,e as oe}from"../chunks/render.Qv6iRyJ3.js";import{c as M}from"../chunks/css-props.sBKAe1PU.js";import{e as se,i as ne}from"../chunks/each.CTzuMR3Z.js";import{a,t as d,b as N,c as q}from"../chunks/template.DrFoD_Dm.js";import{p as L}from"../chunks/props.CkQrhzFR.js";import{B as ie,T as le,a as pe}from"../chunks/TableRow.BlxOIih7.js";import{T as ce}from"../chunks/TitleWebPage.BrpKPykg.js";import{o as me,c as ge}from"../chunks/modal.svelte.CsM8e72q.js";import{t as ve}from"../chunks/Toaster.svelte_svelte_type_style_lang.Cu0oHrnA.js";import{a as de}from"../chunks/entry.DtVho4PG.js";async function fe(){return await W(E)}const ue=async({depends:t})=>(t("approvingAgency:getAll"),{approvingAgency:fe()}),Fe=Object.freeze(Object.defineProperty({__proto__:null,load:ue},Symbol.toStringTag,{value:"Module"})),ye=R.object({approvingAgencyName:R.string().nonempty({message:"Tên cơ quan phê duyệt không để trống"})});async function _e(t){const o={approvingAgencyName:t.get("approvingAgencyName")};return await G({scheme:ye,endpoint:E,formData:o})}function he(t){return J(t,o=>[o.approvingAgencyId+"",o.approvingAgencyName])}var $e=d("<!> <!>",1),Ae=d('<div class="modal"><h4> </h4> <form class="svelte-94k1qb"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></form></div>'),be=d('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Te=d("<div>Loading</div>"),we=d("<!> <!>",1),Pe=d("<!> <!>",1);function He(t,o){X(o,!0);const z=c=>{var m=Ae(),e=C(m),h=C(e);ae(()=>te(h,`Thêm ${s.toLowerCase()??""}`)),_(e);var f=y(e,2),r=C(f),b=re(()=>`Tên ${s.toLowerCase()}`);M(r,()=>({"--margin-top":"1em","--margin-bottom":"1em"})),O(r.lastChild,{id:"approvingAgencyName",name:"approvingAgencyName",type:"text",placeHolder:"",get label(){return $(b)},get error(){return $(A)},errorId:"approvingAgencyName",onfocus:S}),_(r);var n=y(r,2);U(n,{children:(i,g)=>{var l=$e(),p=v(l);j(p,{variant:"orange",type:"submit",children:(u,w)=>{x();var P=N("Thêm");a(u,P)},$$slots:{default:!0}});var T=y(p,2);V(T,{onclick:()=>ge(),children:(u,w)=>{x();var P=N("Hủy");a(u,P)},$$slots:{default:!0}}),a(i,l)},$$slots:{default:!0}}),_(f),_(m),oe("submit",f,H),a(c,m)};let s="Cơ quan phê duyệt",F=[`Mã ${s.toLowerCase()}`,`Tên ${s.toLowerCase()}`],A=Y(L([]));function S(){B(A,L([]))}async function H(c){c.preventDefault();const m=new FormData(c.target),e=await _e(m);console.log(e),e.isSuccess?(ve.success("Thêm thành công"),de("approvingAgency:getAll")):e.error instanceof Z&&B(A,L(e.error.issues))}var k=Pe(),D=v(k);ce(D,{title:s});var I=y(D,2);ie(I,{header:s,breadcrumb:[s,"Danh sách"],children:(c,m)=>{var e=we(),h=v(e);K(h,{children:(r,b)=>{var n=be(),i=v(n);M(i,()=>({"--margin-bottom":"0.5em"})),j(i.lastChild,{onclick:()=>{S(),me(z)},variant:"orange",children:(g,l)=>{x();var p=N("Thêm");a(g,p)},$$slots:{default:!0}}),_(i),a(r,n)},$$slots:{default:!0}});var f=y(h,2);le(f,{headers:F,children:(r,b)=>{var n=q(),i=v(n);Q(i,()=>o.data.approvingAgency,g=>{var l=Te();a(g,l)},(g,l)=>{var p=q(),T=v(p);se(T,17,()=>he($(l)),ne,(u,w)=>{pe(u,{get row(){return $(w)}})}),a(g,p)}),a(r,n)},$$slots:{default:!0}}),a(c,e)},$$slots:{default:!0}}),a(t,k),ee()}export{He as component,Fe as universal};
