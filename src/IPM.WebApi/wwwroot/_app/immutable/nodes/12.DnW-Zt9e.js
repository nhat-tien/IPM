import{e as E,z as R,P as O,Z}from"../chunks/PrimaryTextField.BGRG2kUX.js";import{g as q,t as W,c as G,R as J,P as j,a as K,b as Q,S as V}from"../chunks/RowToLeft.DeaIvoKE.js";import"../chunks/disclose-version.Bg9kRutz.js";import{a9 as X,a3 as Y,v as p,aa as rr,ab as A,a4 as y,a1 as x,a6 as _,a5 as C,t as er,j as h,l as tr}from"../chunks/runtime.CGf5uJ7Y.js";import{s as ar,e as or}from"../chunks/render.Qv6iRyJ3.js";import{c as B}from"../chunks/css-props.sBKAe1PU.js";import{e as sr,i as nr}from"../chunks/each.CTzuMR3Z.js";import{a as e,t as v,b as N,c as M}from"../chunks/template.DrFoD_Dm.js";import{p as L}from"../chunks/props.CkQrhzFR.js";import{B as ir,T as cr,a as lr}from"../chunks/TableRow.BlxOIih7.js";import{T as mr}from"../chunks/TitleWebPage.BrpKPykg.js";import{o as dr,c as ur}from"../chunks/modal.svelte.CsM8e72q.js";import{t as pr}from"../chunks/Toaster.svelte_svelte_type_style_lang.Cu0oHrnA.js";import{a as vr}from"../chunks/entry.DtVho4PG.js";async function fr(){return await q(E)}const gr=async({depends:a})=>(a("currencyUnit:getAll"),{currencyUnit:fr()}),Fr=Object.freeze(Object.defineProperty({__proto__:null,load:gr},Symbol.toStringTag,{value:"Module"}));function yr(a){return W(a,o=>[o.currencyUnitId+"",o.currencyUnitName])}const _r=R.object({currencyUnitName:R.string().nonempty({message:"Tên đơn vị tiền tệ không để trống"})});async function $r(a){const o={currencyUnitName:a.get("currencyUnitName")};return await G({scheme:_r,endpoint:E,formData:o})}var hr=v("<!> <!>",1),br=v('<div class="modal"><h4> </h4> <form class="svelte-94k1qb"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></form></div>'),Tr=v('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),wr=v("<div>Loading</div>"),Ur=v("<!> <!>",1),Pr=v("<!> <!>",1);function Hr(a,o){X(o,!0);const z=m=>{var d=br(),r=C(d),$=C(r);er(()=>ar($,`Thêm ${s.toLowerCase()??""}`)),_(r);var f=y(r,2),t=C(f),T=tr(()=>`Tên ${s.toLowerCase()}`);B(t,()=>({"--margin-top":"1em","--margin-bottom":"1em"})),O(t.lastChild,{id:"currencyUnitName",name:"currencyUnitName",type:"text",placeHolder:"",get label(){return h(T)},get error(){return h(b)},errorId:"currencyUnitName",onfocus:S}),_(t);var n=y(t,2);Q(n,{children:(i,u)=>{var c=hr(),l=p(c);j(l,{variant:"orange",type:"submit",children:(g,U)=>{x();var P=N("Thêm");e(g,P)},$$slots:{default:!0}});var w=y(l,2);V(w,{onclick:()=>ur(),children:(g,U)=>{x();var P=N("Hủy");e(g,P)},$$slots:{default:!0}}),e(i,c)},$$slots:{default:!0}}),_(f),_(d),or("submit",f,H),e(m,d)};let s="Đơn vị tiền tệ",F=[`Mã ${s.toLowerCase()}`,`Tên ${s.toLowerCase()}`],b=Y(L([]));function S(){A(b,L([]))}async function H(m){m.preventDefault();const d=new FormData(m.target),r=await $r(d);console.log(r),r.isSuccess?(pr.success("Thêm thành công"),vr("currencyUnit:getAll")):r.error instanceof Z&&A(b,L(r.error.issues))}var k=Pr(),D=p(k);mr(D,{title:s});var I=y(D,2);ir(I,{header:s,breadcrumb:[s,"Danh sách"],children:(m,d)=>{var r=Ur(),$=p(r);J($,{children:(t,T)=>{var n=Tr(),i=p(n);B(i,()=>({"--margin-bottom":"0.5em"})),j(i.lastChild,{onclick:()=>{S(),dr(z)},variant:"orange",children:(u,c)=>{x();var l=N("Thêm");e(u,l)},$$slots:{default:!0}}),_(i),e(t,n)},$$slots:{default:!0}});var f=y($,2);cr(f,{headers:F,children:(t,T)=>{var n=M(),i=p(n);K(i,()=>o.data.currencyUnit,u=>{var c=wr();e(u,c)},(u,c)=>{var l=M(),w=p(l);sr(w,17,()=>yr(h(c)),nr,(g,U)=>{lr(g,{get row(){return h(U)}})}),e(u,l)}),e(t,n)},$$slots:{default:!0}}),e(m,r)},$$slots:{default:!0}}),e(a,k),rr()}export{Hr as component,Fr as universal};
