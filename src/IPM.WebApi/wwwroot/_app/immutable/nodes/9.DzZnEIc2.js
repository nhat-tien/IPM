import{b as R,z as x,P as z,Z as E}from"../chunks/PrimaryTextField.BGRG2kUX.js";import{g as F,c as H,t as I,R as O,P as A,a as Z,b as W,S as G}from"../chunks/RowToLeft.DeaIvoKE.js";import"../chunks/disclose-version.Bg9kRutz.js";import{a9 as J,a3 as K,v as m,aa as Q,a4 as h,a1 as $,a6 as g,a5 as N,j as b,ab as V}from"../chunks/runtime.CGf5uJ7Y.js";import{e as X}from"../chunks/render.Qv6iRyJ3.js";import{a as t,t as v,b as T,c as S}from"../chunks/template.DrFoD_Dm.js";import{c as k}from"../chunks/css-props.sBKAe1PU.js";import{e as Y,i as tt}from"../chunks/each.CTzuMR3Z.js";import{p as D}from"../chunks/props.CkQrhzFR.js";import{B as at,T as et,a as rt}from"../chunks/TableRow.BlxOIih7.js";import{T as ot}from"../chunks/TitleWebPage.BrpKPykg.js";import{o as st,c as nt}from"../chunks/modal.svelte.CsM8e72q.js";import{t as it}from"../chunks/Toaster.svelte_svelte_type_style_lang.Cu0oHrnA.js";import{a as lt}from"../chunks/entry.DtVho4PG.js";async function ct(){return await F(R)}const dt=async({depends:s})=>(s("affiliatedUnit:getAll"),{affiliatedUnit:ct()}),Bt=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"})),ft=x.object({affiliatedUnitName:x.string().nonempty({message:"Tên đơn vị trực thuộc không để trống"})});async function mt(s){const n={affiliatedUnitName:s.get("affiliatedUnitName")};return await H({scheme:ft,endpoint:R,formData:n})}function vt(s){return I(s,n=>[n.affiliatedUnitId+"",n.affiliatedUnitName])}var pt=v("<!> <!>",1),ut=v('<div class="modal"><h4>Thêm đơn vị trực thuộc</h4> <form class="svelte-94k1qb"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></form></div>'),ht=v('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),gt=v("<div>Loading</div>"),_t=v("<!> <!>",1),$t=v("<!> <!>",1);function Ct(s,n){J(n,!0);const j=c=>{var d=ut(),a=h(N(d),2),i=N(a);k(i,()=>({"--margin-top":"1em","--margin-bottom":"1em"})),z(i.lastChild,{id:"affiliatedUnitName",name:"affiliatedUnitName",type:"text",placeHolder:"",label:"Tên đơn vị trực thuộc",required:!0,get error(){return b(y)},errorId:"affiliatedUnitName"}),g(i);var _=h(i,2);W(_,{children:(p,w)=>{var e=pt(),r=m(e);A(r,{variant:"orange",type:"submit",children:(o,f)=>{$();var u=T("Thêm");t(o,u)},$$slots:{default:!0}});var l=h(r,2);G(l,{onclick:()=>nt(),children:(o,f)=>{$();var u=T("Hủy");t(o,u)},$$slots:{default:!0}}),t(p,e)},$$slots:{default:!0}}),g(a),g(d),X("submit",a,C),t(c,d)};let B=["Mã đơn vị trực thuộc","Tên đơn vị trực thuộc"],y=K(D([]));async function C(c){c.preventDefault();const d=new FormData(c.target),a=await mt(d);a.isSuccess?(it.success("Thêm đơn vị thành công"),lt("affiliatedUnit:getAll")):a.error instanceof E&&V(y,D(a.error.issues))}var U=$t(),P=m(U);ot(P,{title:"Đơn vị trực thuộc"});var M=h(P,2);at(M,{header:"Đơn vị trực thuộc",breadcrumb:["Đơn vị trực thuộc","Danh sách"],children:(c,d)=>{var a=_t(),i=m(a);O(i,{children:(p,w)=>{var e=ht(),r=m(e);k(r,()=>({"--margin-bottom":"0.5em"})),A(r.lastChild,{onclick:()=>st(j),variant:"orange",children:(l,o)=>{$();var f=T("Thêm");t(l,f)},$$slots:{default:!0}}),g(r),t(p,e)},$$slots:{default:!0}});var _=h(i,2);et(_,{headers:B,children:(p,w)=>{var e=S(),r=m(e);Z(r,()=>n.data.affiliatedUnit,l=>{var o=gt();t(l,o)},(l,o)=>{var f=S(),u=m(f);Y(u,17,()=>vt(b(o)),tt,(L,q)=>{rt(L,{get row(){return b(q)}})}),t(l,f)}),t(p,e)},$$slots:{default:!0}}),t(c,a)},$$slots:{default:!0}}),t(s,U),Q()}export{Ct as component,Bt as universal};
